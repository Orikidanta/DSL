#  智能电商客服机器人（基于 LLM + 状态机）

本项目是一个轻量级、可扩展的电商客服对话系统，结合大语言模型（LLM）与规则驱动的状态机，支持**物流查询、投诉受理、退款申请**三大核心场景，并能智能处理用户“一句话”完整请求（如“查物流，订单号123456”）。

>  **无需硬编码意图识别**｜**上下文自动管理**｜**真实 LLM 驱动**｜**易于测试与扩展**

---

##  核心特性
 LLM 自动从句子中提取 
`order_id`
、
`complaint_type`
、
`refund_reason`
 并注入上下文 

 模板化回复
 - 支持变量渲染（如 `{{order_id}}`），保证回复一致性 

 端到端测试
 - 提供真实 API 调用的集成测试脚本，覆盖“一步到位”场景 

 结构化日志
 - 内置日志系统，便于调试与监控 

 ### DSL 语法规则
- 每条规则以 `[rule]` 开头
- 必须包含 `scene` 和 `status`
- 动作类型：
  - `ask: <field>` + `prompt: <text>` → 请求用户输入
  - `reply: <template>` → 直接回复（支持 {{变量}}）

# 支持自定义扩展
- 添加新场景只需在qwen_client.py中的system_prompt加入对应的scence和status,并于rules.txt中按照语法规则添加新规则即可

# 启动对话
- 详见final_version-README

